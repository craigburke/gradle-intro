<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>All About Gradle</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet"><script type="text/javascript">document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );</script><link rel="stylesheet" href="styles/font-awesome.min.css" />
<link rel="stylesheet" href="styles/common.css" /></head><body><div class="reveal"><div class="slides"><section id="title" data-background="#6598A9"><h2>All About Gradle</h2><div class="paragraph" id="author"><p>Craig Burke</p></div>
<div class="imageblock" id="title-logo" style=""><div class="content"><img src="images/groovypgh.png" alt="groovypgh"></div></div></section>
<section id="_about_me"><h2>About Me</h2><div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-university"></i></span> Groovy/Grails Developer at Carnegie Mellon</p></li><li><p><span class="icon"><i class="fa fa-cog"></i></span> Author of the Karma / Bower Installer Gradle Plugins</p></li></ul></div>
<div class="ulist"><ul><li><p><span class="icon"><i class="fa fa-globe"></i></span> www.craigburke.com</p></li><li><p><span class="icon"><i class="fa fa-twitter"></i></span> @craigburke1</p></li><li><p><span class="icon"><i class="fa fa-twitter"></i></span> @groovypgh</p></li></ul></div></section>
<section><section id="_what_is_gradle"><h2>What is Gradle?</h2></section><section id="_powerful_build_tool_with"><h2>Powerful build tool with:</h2><div class="ulist step"><ul><li class="fragment"><p>Groovy DSL</p></li><li class="fragment"><p>Dependency management</p></li><li class="fragment"><p>Support for many languages/platforms</p></li><li class="fragment"><p>Plugins</p></li><li class="fragment"><p>A terrible website</p></li></ul></div></section></section>
<section><section id="_groovy_fundamentals"><h2>Groovy Fundamentals</h2></section><section id="_groovy_features"><h2>Groovy Features</h2><div class="ulist step"><ul><li class="fragment"><p>Simple Syntax (Less Noise)</p></li><li class="fragment"><p>Operator Overloading</p></li><li class="fragment"><p>Scripting Support</p></li><li class="fragment"><p>Meta-Programming</p></li></ul></div></section><section id="_syntactic_sugar"><h2>Syntactic Sugar</h2><div class="listingblock fragment"><div class="title">Maps and lists</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">Map map = [language: 'Groovy']
List list = ['foo', 'bar']</code></pre></div></div>
<div class="listingblock fragment"><div class="title">Command chaining and optional parenthesis</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">// equivalent to: say(hello).to('Craig')
say hello to 'Craig'</code></pre></div></div></section><section id="_operator_overloading"><h2>Operator Overloading</h2><table class="tableblock frame-all grid-all operators" style="width:50%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a + b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.plus(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a - b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.minus(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a * b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.multiply(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a ** b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.power(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a / b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.div(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a % b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.mod(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a | b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.or(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a &amp; b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.and(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a ^ b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.xor(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a or a</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.next()</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a-- or --a</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.previous()</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a &lt;&lt; b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.leftShift(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a &gt;&gt; b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.rightShift(b)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">a &lt;&#8658; b</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">a.compareTo(b)</p></td></tr></tbody></table></section><section id="_the_metaclass"><h2>The MetaClass</h2><div class="ulist"><ul><li><p>Every class in Groovy has a corresponding metaClass</p></li><li><p>Class instances can also have custom metaClasses</p></li></ul></div></section><section id="_closures"><h2>Closures</h2><div class="paragraph"><p>A <strong>first-class function</strong> that can be:</p></div>
<div class="ulist"><ul><li><p>Passed as an argument</p></li><li><p>Assigned to a variable</p></li><li><p>Returned from a function</p></li></ul></div></section><section id="_closure_scope"><h2>Closure Scope</h2><div class="dlist"><dl><dt class="hdlist1">this</dt><dd><p>instance of the class the closure was defined</p></dd><dt class="hdlist1">owner</dt><dd><p>usually the same as this unless it was declared inside another closure</p></dd><dt class="hdlist1">delegate</dt><dd><p>same as owner but can be reassigned</p></dd></dl></div></section><section id="_getters_and_setters"><h2>Getters and Setters</h2><div class="listingblock fragment"><div class="content"><pre class="highlight"><code class="groovy language-groovy">class Person {
  String name
  String nickName
}
Person person = new Person()</code></pre></div></div>
<div class="listingblock fragment"><div class="title">Equivilent to person.setName('Craig')</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">person.name = 'Craig'</code></pre></div></div>
<div class="listingblock fragment"><div class="title">Equivilent to println person.getName()</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">println person.name</code></pre></div></div>
<div class="listingblock fragment"><div class="title">Equivilent to person.setNickName(person.getName())</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">person.nickName = person.name</code></pre></div></div></section><section id="_dynamic_properties"><h2>Dynamic Properties</h2><div class="listingblock fragment"><div class="title">Extending the Number class</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">Number.metaClass.getDollars = { delegate as BigDecimal }

Number.metaClass.getProperty = { String name -&gt;
  def rates = [euros: 1.1f, pesos: 0.063f]
  delegate * (rates[name] as BigDecimal)
}</code></pre></div></div>
<div class="listingblock fragment"><div class="title">Adding different currencies together</div><div class="content"><pre class="highlight"><code class="groovy language-groovy">def total = 20.dollars + 40.euros + 200.pesos
assert total == 76.60</code></pre></div></div></section><section id="_dynamic_methods"><h2>Dynamic Methods</h2><div class="listingblock source groovy fragment"><div class="content"><pre class="highlight"><code>class Person {
  def methodMissing(String name, args) {
    if (name.startsWith('say')) {
      String message = (name - 'say').trim()
      println message
    }
  }
}</code></pre></div></div>
<div class="listingblock source groovy fragment"><div class="title">Trying out our dynamic method</div><div class="content"><pre class="highlight"><code>Person you = new Person()
you.sayHello()
you."say Craig is Awesome"()</code></pre></div></div></section></section>
<section><section id="_getting_started_with_gradle"><h2>Getting Started with Gradle</h2></section><section id="_terminology"><h2>Terminology</h2><div class="dlist"><dl><dt class="hdlist1">Task</dt><dd><p>an atomic piece of work</p></dd><dt class="hdlist1">Project</dt><dd><p>collection of tasks</p></dd><dt class="hdlist1">Build</dt><dd><p>one or more projects</p></dd></dl></div></section><section id="_installing_gradle"><h2>Installing Gradle</h2><div class="olist arabic"><ol class="arabic"><li><p>Use SDKMan!</p></li><li><p>Download from gradle.org:
<a href="http://gradle.org/gradle-download/" class="bare">http://gradle.org/gradle-download/</a></p></li><li><p>Use Gradle wrapper</p></li></ol></div></section><section id="_create_a_new_project"><h2>Create a New Project</h2><div class="ulist"><ul><li><p>Create a build.gradle file</p></li><li><p>Run gradle init</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="bash language-bash">gradle init
gradle init --type groovy-library</code></pre></div></div></section></section>
<section><section id="_gradle_tasks"><h2>Gradle Tasks</h2></section><section id="_defining_a_task"><h2>Defining a Task</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">task helloWorld {
    doLast {
        println 'Hello world!'
    }
}</code></pre></div></div></section><section id="_task_phases"><h2>Task phases</h2><div class="dlist"><dl><dt class="hdlist1">Configuration</dt><dd><p>run for all tasks everytime gradle is run</p></dd><dt class="hdlist1">Execution</dt><dd><p>run only when a task is executed</p></dd></dl></div></section><section id="_phase_example"><h2>Phase Example</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">task foo {
    println 'Configuration phase'

    doLast {
        println 'Execution phase'
    }
}</code></pre></div></div></section><section id="_alternate_syntax"><h2>Alternate Syntax</h2><div class="paragraph"><p><span class="icon"><i class="fa fa-warning"></i></span> Not recommended</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">task foo &lt;&lt; {
    println "Execution phase"
}

task bar {
    println "Configuration phase"
} &lt;&lt; {
    println "Execution phase"
}</code></pre></div></div></section><section id="_task_ordering"><h2>Task Ordering</h2><div class="ulist"><ul><li><p>dependsOn</p></li><li><p>finalizedBy</p></li><li><p>shouldRunAfter</p></li><li><p>mustRunAfter</p></li></ul></div></section></section>
<section><section id="_building_java_groovy_projects"><h2>Building Java (Groovy) Projects</h2></section><section id="_apply_plugins"><h2>Apply Plugins</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">apply plugin: 'groovy'</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">apply plugin: 'java'</code></pre></div></div></section><section id="_adding_dependencies"><h2>Adding Dependencies</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">apply plugin: 'java'</code></pre></div></div></section><section id="_main_tasks"><h2>Main tasks</h2><div class="dlist"><dl><dt class="hdlist1">assemble</dt><dd><p>compiles and packages project (into a jar)</p></dd><dt class="hdlist1">check</dt><dd><p>runs tests and verification tasks</p></dd><dt class="hdlist1">build</dt><dd><p>runs both assemble and check</p></dd></dl></div></section><section id="_adding_dependencies_2"><h2>Adding dependencies</h2><div class="listingblock"><div class="content"><pre class="highlight"><code class="groovy language-groovy">apply plugin: 'groovy'

repositories {
    mavenLocal()
    mavenCentral()
    jcenter()
}

dependencies {
    compile 'org.codehaus.groovy:groovy:2.4.5'
    testCompile group:'org.spockframework', name:'spock-core', version:'1.0-groovy-2.4'
}</code></pre></div></div></section><section id="_dependency_configurations"><h2>Dependency configurations</h2><div class="dlist"><dl><dt class="hdlist1">compile</dt><dd><p>The dependencies required to compile the source of the project.</p></dd><dt class="hdlist1">runtime</dt><dd><p>The dependencies required by the at runtime (includes compile time dependencies).</p></dd><dt class="hdlist1">testCompile</dt><dd><p>The additional dependencies required to compile the tests the project (includes compile dependecies).</p></dd><dt class="hdlist1">testRuntime</dt><dd><p>The dependencies required by the tests at runtime (includes testCompile and runtime dependecies).</p></dd></dl></div></section></section>
<section><section id="_custom_plugins"><h2>Custom Plugins</h2></section><section id="_creating_plugin"><h2>Creating plugin</h2><div class="ulist"><ul><li><p>apply from file</p></li><li><p>Add a plugin code in buildSrc</p></li><li><p>Add a build dependency of published plugin</p></li></ul></div></section><section id="_build_classpath"><h2>Build Classpath</h2><div class="paragraph"><p><span class="icon"><i class="fa fa-warning"></i></span> Build classpath is distinct from application classpath</p></div>
<div class="listingblock source groovy"><div class="content"><pre class="highlight"><code>buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.2'
    }
}

apply plugin: 'groovy'
apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    jcenter()
}

dependencies {
    compile 'org.codehaus.groovy:groovy:2.4.5'
}</code></pre></div></div></section><section id="_useful_plugins"><h2>Useful Plugins</h2><div class="ulist"><ul><li><p>Gradle Shadow (<span class="icon"><i class="fa fa-github"></i></span>johnrengelman/shadow)</p></li><li><p>Gradle SSH (<span class="icon"><i class="fa fa-github"></i></span>int128/gradle-ssh-plugin)</p></li><li><p>Gradle Node (<span class="icon"><i class="fa fa-github"></i></span>srs/gradle-node-plugin)</p></li><li><p>Bower Installer (<span class="icon"><i class="fa fa-github"></i></span>craigburke/bower-installer-gradle)</p></li></ul></div></section><section id="_bower_installer"><h2>Bower Installer</h2><div class="listingblock source groovy"><div class="content"><pre class="highlight"><code>bower {
    installBase = 'src/assets/bower'

    'angular'('1.4.x')

    'angular-animate'('1.4.x') {
        source 'angular-animate.js' &gt;&gt; '/angular/modules/'
    }

    'bootstrap'('3.3.x') {
        source 'dist/css/*.min.css' &gt;&gt; 'styles/'
        source 'dist/fonts/**' &gt;&gt; 'fonts/'
        excludes 'jquery'
    }
}</code></pre></div></div></section></section>
<section id="_resources"><h2>Resources</h2><div class="paragraph listheading"><p>Books</p></div>
<div class="ulist resources"><ul><li><p><span class="icon"><i class="fa fa-book"></i></span>Building and Testing with Gradle</p><div class="ulist"><ul><li><p><a href="http://www2.gradle.com/l/68052/2015-01-13/6dm" class="bare">http://www2.gradle.com/l/68052/2015-01-13/6dm</a></p></li></ul></div></li><li><p><span class="icon"><i class="fa fa-book"></i></span>Gradle Beyond the Basics!</p><div class="ulist"><ul><li><p><a href="http://www2.gradle.com/l/68052/2015-01-26/23s5" class="bare">http://www2.gradle.com/l/68052/2015-01-26/23s5</a></p></li></ul></div></li><li><p><span class="icon"><i class="fa fa-book"></i></span>Gradle In Action</p><div class="ulist"><ul><li><p><a href="https://www.manning.com/books/gradle-in-action" class="bare">https://www.manning.com/books/gradle-in-action</a></p></li></ul></div></li></ul></div>
<div class="paragraph listheading"><p>Presentations</p></div>
<div class="ulist resources"><ul><li><p><span class="icon"><i class="fa fa-bullhorn"></i></span>Building A Full Application Stack With Gradle</p><div class="ulist"><ul><li><p><a href="https://www.youtube.com/watch?v=YoaZrHE4CSk" class="bare">https://www.youtube.com/watch?v=YoaZrHE4CSk</a></p></li></ul></div></li><li><p><span class="icon"><i class="fa fa-bullhorn"></i></span>Gradle: From User to Addict</p><div class="ulist"><ul><li><p><a href="https://www.youtube.com/watch?v=-C7TtnPJ7ms" class="bare">https://www.youtube.com/watch?v=-C7TtnPJ7ms</a></p></li></ul></div></li></ul></div>
<div class="paragraph listheading"><p>Links</p></div>
<div class="ulist resources"><ul><li><p><span class="icon"><i class="fa fa-globe"></i></span>Gradle User Guide</p><div class="ulist"><ul><li><p><a href="https://docs.gradle.org/current/userguide/userguide.html" class="bare">https://docs.gradle.org/current/userguide/userguide.html</a></p></li></ul></div></li></ul></div></section>
<section id="_thank_you"><h2>Thank You</h2><div class="imageblock parrot" style=""><div class="content"><img src="images/parrot.gif" alt="parrot"></div></div></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script type="text/javascript">// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: false,
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'white',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
});</script><div id="footer">
	All About Gradle
</div></body></html>